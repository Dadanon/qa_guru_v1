# 2 задание QA guru

---

Добавлены следующие smoke тесты:
- test_ping - пинг-понг тест для проверки статуса доступности микросервиса
- test_envs - тест доступности имеющихся переменных окружения
- test_db_access - тест доступности БД по указанной строке подключения

Smoke тесты помечены маркером, их можно запустить отдельно с помощью команды:
```
pytest -m smoke
```

---

Добавлен сервисный эндпоинт /api/ping для проверки доступности микросервиса

---

Внедрена библиотека fastapi-pagination. Использована директива disable_installed_extensions_check для подавления предупреждения об использовании иной, по мнению анализатора, более подходящей функции пагинации для SQLAlchemy. Т.к. на текущий момент используется ORM, то использование пагинации из fastapi_pagination более предпочтительно, т.к. она работает со списками, а не со _statement_, с которыми работает пагинация для SQLAlchemy

---

Добавлены тесты на пагинацию для следующих эндпоинтов:
- получение списка авторов
- получение списка книг конкретного автора
- получение списка книг
Следует заметить, что для тестов используется тестовая база sqlite. Тестовые данные для этой базы создаются с помощью фикстур new_authors и new_books

---

Для каждого эндпоинта в тестах на пагинацию добавлено 3 тест-кейса:
- получение корректного количества объектов на данной странице и общего количества объектов
- получение корректного количества страниц в ответе. Страница для простоты всегда имеет номер 1 (в данном случае, не принципиально, номер может быть любой)
- получение разных данных при разных значениях номера страницы. Количество данных в параметрах теста всегда больше размера страницы в параметрах теста. Сравниваются данные на 1 и 2 страницах. Данные номера страниц выбраны для гарантии того, что на каждой из страниц будут данные, что следует из 2 предложения данного пункта, т.к. эти данные нужны для их сравнения на разных страницах